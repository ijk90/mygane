<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>方鸿渐的围城之旅</title>
    <style>
        body {
            font-family: '宋体', serif;
            background: #f0e6d3;
            color: #4a4a4a;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .chapter {
            display: none;
            text-align: center;
        }
        .chapter.active {
            display: block;
        }
        h2 {
            color: #8b4513;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 10px;
        }
        .choices {
            display: grid;
            gap: 15px;
            margin-top: 30px;
        }
        button {
            background: #d4af37;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        button:hover {
            transform: scale(1.05);
            background: #b08d57;
        }
        .ending {
            line-height: 1.8;
            font-size: 1.1em;
        }

        /* 新增角色卡片样式 */
        .character {
            position: relative;
            margin: 25px 0;
            padding: 25px;
            border-radius: 10px;
            transition: transform 0.3s ease;
            background-blend-mode: multiply;
        }
        /* 孙柔嘉 - 外柔内刚 */
        .character-sun {
            background: linear-gradient(15deg, #f8f2ec 30%, #ffffff 100%);
            border-left: 5px solid #c7a17a;
            box-shadow: 3px 3px 10px rgba(199,161,122,0.1);
        }
        .character-sun .character-name {
            color: #7a6452;
            font-size: 1.3em;
            padding-left: 30px;
        }
        /* 苏文纨 - 高傲才女 */
        .character-su {
            background: linear-gradient(160deg, #f0f5ff 20%, #ffffff 80%);
            border-top: 3px solid #6b8cce;
            box-shadow: 0 5px 15px rgba(107,140,206,0.1);
        }
        .character-su .character-name {
            color: #4a638c;
            border-bottom: 2px dashed #b3c5e5;
            font-style: italic;
            padding: 8px 20px;
        }
        /* 唐晓芙 - 理想恋人 */
        .character-tang {
            background: linear-gradient(-10deg, #fff5f5 30%, #ffffff 100%);
            border-radius: 20px 0;
            box-shadow: -3px 3px 12px rgba(255,173,174,0.1);
        }
        .character-tang .character-name {
            color: #d87093;
            font-family: '楷体', cursive;
            text-shadow: 1px 1px 2px rgba(216,112,147,0.1);
        }
        /* 引用语增强 */
        .quote {
            position: relative;
            padding: 15px 25px;
            margin: 15px 0;
            font-size: 0.95em;
        }
        .character-sun .quote {
            background: #fcf8f3;
            border-left: 3px solid #e3c6ab;
        }
        .character-su .quote {
            background: #f8faff;
            border-right: 3px solid #a8c3f0;
        }
        .character-tang .quote {
            background: #fff5f7;
            border-radius: 0 15px;
        }
        .quote::before {
            content: "“";
            font-size: 3em;
            position: absolute;
            opacity: 0.15;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 第一围：学业围城 -->
        <div class="chapter active" id="chapter1">
            <h2>第一围：克莱登大学的迷雾</h2>
            <p>你在欧洲虚度四年光阴，面对父亲催问学业...</p >
            <div class="choices">
                <button onclick="nextChapter('伪造文凭',2)">购买克莱登博士文凭</button>
                <button onclick="nextChapter('坦诚相告',2)">如实告知游学经历</button>
            </div>
        </div>

        <!-- 第二围：事业围城 -->
        <div class="chapter" id="chapter2">
            <h2>第二围：三闾大学的暗流</h2>
            <p>来到三闾大学任教，校长高松年表面儒雅实则老谋深算，训导长李梅亭满口仁义道德却贪财好色，韩学愈伪造学历却混迹教授之列，你被迫卷入汪处厚与刘东方两派的倾轧，面临派系斗争的泥潭...</p >
            <div class="choices">
                <button onclick="nextChapter('加入汪派',3)">依附汪处厚一派</button>
                <button onclick="nextChapter('保持中立',3)">保持独立姿态</button>
            </div>
        </div>

        <!-- 第三围：情感围城（优化版） -->
        <div class="chapter" id="chapter3">
            <h2>第三围：红玫瑰与白玫瑰</h2>
            <p class="scene-intro">情感如同迷宫，每个转角都藏着不同的命运...</p >

            <div class="character character-sun">
                <div class="character-name">孙柔嘉</div>
                <div class="character-tag">温婉的实用主义者</div>
                <p>看似无依的藤蔓，却在无形中织就密网。大学的同事，以柔克刚的生存智慧...</p >
                <div class="quote">"她不是美人，但有一种使人看了不能忘怀的风度。"</div>
            </div>

            <div class="character character-su">
                <div class="character-name">苏文纨</div>
                <div class="character-tag">象牙塔中的女王</div>
                <p>学识铸就铠甲，骄傲掩饰脆弱。留学归来的女博士，在理性与感性间挣扎...</p >
                <div class="quote">"女人原是天生的政治动物。虚虚实实，以退为进..."</div>
            </div>

            <div class="character character-tang">
                <div class="character-name">唐晓芙</div>
                <div class="character-tag">可望不可即的月光</div>
                <p>新时代的旧灵魂，天真里藏着通透。年轻女学生，象征着未被世俗沾染的理想...</p >
                <div class="quote">"她的眼睛并不顶大，可是灵活温柔..."</div>
            </div>

            <div class="choices">
                <button onclick="showEnding('追求理想')">🌹 追逐月光般的唐晓芙</button>
                <button onclick="showEnding('接受现实')">🕸️ 走入孙柔嘉的温柔罗网</button>
            </div>
        </div>

        <!-- 结局展示 -->
        <div class="chapter" id="ending">
            <h2>围城内外</h2>
            <div class="ending" id="ending-text"></div>
        </div>
    </div>

    <script>
        let choicesHistory = [];

        function nextChapter(choice, chapterNum) {
            choicesHistory.push(choice);
            document.querySelector('.chapter.active').classList.remove('active');
            document.getElementById(`chapter${chapterNum}`).classList.add('active');
        }

        function showEnding(finalChoice) {
            choicesHistory.push(finalChoice);
            const endings = {
                '伪造文凭': "体面的文凭成为终生枷锁，每个微笑都暗藏讥讽",
                '坦诚相告': "真诚换来的是冷眼与质疑，在现实中处处碰壁",
                '加入汪派': "在派系倾轧中逐渐失去文人风骨",
                '保持中立': "成为权力游戏的牺牲品，在冷板凳上消磨理想",
                '追求理想': "唐小姐如镜花水月，热烈后只剩怅惘",
                '接受现实': "婚姻成为新的围城，在琐碎中消磨爱情"
            };

            let endingHTML = "<h3>你的选择：</h3><ul>";
            choicesHistory.forEach(choice => {
                endingHTML += `<li>${choice} → ${endings[choice]}</li>`;
            });
            endingHTML += `</ul><p>${getFinalConclusion()}</p >`;
            
            document.getElementById('ending-text').innerHTML = endingHTML;
            document.querySelector('.chapter.active').classList.remove('active');
            document.getElementById('ending').classList.add('active');
        }

        function getFinalConclusion() {
            return "城外的人想冲进去，城里的人想逃出来——这永恒的困境，正是人生的注脚。";
        }
    </script>
</body>
</html>